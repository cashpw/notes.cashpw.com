<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Read Gmail in Emacs with notmuch and lieer | Cash Prokop-Weaver</title><meta name=keywords content="hastodo,hastodo"><meta name=description content="This is a guide to setting up access to email from a Gmail account (eg: @gmail.com) within Emacs (Doom Emacs) using notmuch (a) and lieer (a).
You may have to complete additional steps if you are not using doom emacs (a) or if your set-up differs from mine in other ways.
Prerequisites Please be sure you&rsquo;ve completed these steps before continuing:
Required Software lieer
git clone https://github.com/gauteh/lieer.git cd lieer pip3 install -r requirements."><meta name=author content><link rel=canonical href=http://notes.cashpw.com/posts/ada68d10-cec8-4af1-903d-29dfa71d2343/><link crossorigin=anonymous href=/assets/css/stylesheet.min.b29398f29a599d5e3004230f1be93c6d0e635ee0513a370a3f70268eb91bd59d.css integrity="sha256-spOY8ppZnV4wBCMPG+k8bQ5jXuBROjcKP3Amjrkb1Z0=" rel="preload stylesheet" as=style><link rel=icon href=http://notes.cashpw.com/favicon.ico><link rel=apple-touch-icon href=http://notes.cashpw.com/apple-touch-icon.png><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-69408538-1","auto"),ga("send","pageview"))</script><meta name=twitter:title content="Read Gmail in Emacs with notmuch and lieer | Cash Prokop-Weaver"><meta name=twitter:description content="This is a guide to setting up access to email from a Gmail account (eg: @gmail.com) within Emacs (Doom Emacs) using notmuch (a) and lieer (a).
You may have to complete additional steps if you are not using doom emacs (a) or if your set-up differs from mine in other ways.
Prerequisites Please be sure you&rsquo;ve completed these steps before continuing:
Required Software lieer
git clone https://github.com/gauteh/lieer.git cd lieer pip3 install -r requirements."><meta property="og:title" content="Read Gmail in Emacs with notmuch and lieer | Cash Prokop-Weaver"><meta property="og:description" content="This is a guide to setting up access to email from a Gmail account (eg: @gmail.com) within Emacs (Doom Emacs) using notmuch (a) and lieer (a).
You may have to complete additional steps if you are not using doom emacs (a) or if your set-up differs from mine in other ways.
Prerequisites Please be sure you&rsquo;ve completed these steps before continuing:
Required Software lieer
git clone https://github.com/gauteh/lieer.git cd lieer pip3 install -r requirements."><meta property="og:type" content="article"><meta property="og:url" content="http://notes.cashpw.com/posts/ada68d10-cec8-4af1-903d-29dfa71d2343/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-27T19:56:00-08:00"><meta property="article:modified_time" content="2023-12-06T05:26:06-08:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://notes.cashpw.com/posts/"},{"@type":"ListItem","position":2,"name":"Read Gmail in Emacs with notmuch and lieer","item":"http://notes.cashpw.com/posts/ada68d10-cec8-4af1-903d-29dfa71d2343/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Read Gmail in Emacs with notmuch and lieer | Cash Prokop-Weaver","name":"Read Gmail in Emacs with notmuch and lieer","description":"This is a guide to setting up access to email from a Gmail account (eg: @gmail.com) within Emacs (Doom Emacs) using notmuch (a) and lieer (a).\nYou may have to complete additional steps if you are not using doom emacs (a) or if your set-up differs from mine in other ways.\nPrerequisites Please be sure you\u0026rsquo;ve completed these steps before continuing:\nRequired Software lieer\ngit clone https://github.com/gauteh/lieer.git cd lieer pip3 install -r requirements.","keywords":["hastodo","hastodo"],"wordCount":"582","inLanguage":"en","datePublished":"2021-12-27T19:56:00-08:00","dateModified":"2023-12-06T05:26:06-08:00","author":[{"@type":"Person","name":"Cash Prokop-Weaver"}],"mainEntityOfPage":{"@type":"WebPage","@id":"http://notes.cashpw.com/posts/ada68d10-cec8-4af1-903d-29dfa71d2343/"},"publisher":{"@type":"Organization","name":"Cash Prokop-Weaver","logo":{"@type":"ImageObject","url":"http://notes.cashpw.com/favicon.ico"}}}</script><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0,macros:{bigo:["{\\href{/posts/big_o_notation}{O}}(#1)",1],littleo:["{\\href{/posts/little_o_notation}{o}}(#1)",1],bigtheta:["{\\href{/posts/big_theta_notation}{\\Theta}}(#1)",1],bigomega:["{\\href{/posts/big_omega_notation}{\\Omega}}(#1)",1]}},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript></head><body class="dark type-posts kind-page layout-" id=top><script data-no-instant>function switchTheme(e){switch(e){case"light":document.body.classList.remove("dark");break;case"dark":document.body.classList.add("dark");break;default:window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")}}function isDarkTheme(){return document.body.className.includes("dark")}function getPrefTheme(){return localStorage.getItem("pref-theme")}function setPrefTheme(e){switchTheme(e),localStorage.setItem("pref-theme",e)}const toggleThemeCallbacks={};toggleThemeCallbacks.main=e=>{setPrefTheme(e?"light":"dark")},window.addEventListener("toggle-theme",function(){const e=isDarkTheme();for(const t in toggleThemeCallbacks)toggleThemeCallbacks[t](e)});function toggleThemeListener(){window.dispatchEvent(new CustomEvent("toggle-theme"))}</script><script>(function(){const t="dark",e=getPrefTheme(),n=e||t;switchTheme(n)})()</script><header class=header><nav class=nav><div class=logo><a href=http://notes.cashpw.com/ accesskey=h title="Cash Prokop-Weaver (Alt + H)">Cash Prokop-Weaver</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://notes.cashpw.com/archives/ title=Archives>Archives</a></li><li><a href=http://notes.cashpw.com/search/ title="Search (Alt + /)" data-no-instant accesskey=/>Search</a></li><li><a href=http://notes.cashpw.com/tags/ title=Tags>Tags</a></li></ul></nav></header><main class="main post"><article class=post-single data-pagefind-body><header class=post-header><h1 class=post-title>Read Gmail in Emacs with notmuch and lieer</h1><div class=post-meta><span title='2021-12-27 19:56:00 -0800 -0800'>2021-12-27</span>&nbsp;·&nbsp;<span style=margin-right:.5ch></span><span title='2023-12-06 05:26:06 -0800 -0800'>2023-12-06</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;<a href=https://github.com/cashpw/notes/edit/main/read_gmail_in_emacs_with_notmuch_and_lieer.org rel="noopener noreferrer" target=_blank>Edit</a></div><div class="post-meta post-references"></div><div class="post-meta post-stars"></div></header><div class="toc side left"><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#prerequisites aria-label=Prerequisites>Prerequisites</a><ul><li class=menu-link-required-software><a href=#required-software aria-label="Required Software">Required Software</a></li><li class=menu-link-create-an-oauth2-client-id><a href=#create-an-oauth2-client-id aria-label="Create an OAuth2 Client ID">Create an OAuth2 Client ID</a></li><li class=menu-link-enable-notmuch-within-emacs><a href=#enable-notmuch-within-emacs aria-label="Enable notmuch within emacs">Enable <code>notmuch</code> within <code>emacs</code></a></li></ul></li><li class=menu-link-configure-notmuch><a href=#configure-notmuch aria-label="Configure notmuch">Configure <code>notmuch</code></a></li><li class=menu-link-configure-lieer><a href=#configure-lieer aria-label="Configure lieer">Configure <code>lieer</code></a></li><li class=menu-link-sync-emails-periodically><a href=#sync-emails-periodically aria-label="Sync emails periodically">Sync emails periodically</a></li><li class=menu-link-configure-notmuch-within-emacs--optional><a href=#configure-notmuch-within-emacs--optional aria-label="Configure notmuch within emacs (optional)">Configure <code>notmuch</code> within <code>emacs</code> (optional)</a></li><li class=menu-link-done><a href=#done aria-label=Done!>Done!</a></li><li class=menu-link-bibliography><a href=#bibliography aria-label=Bibliography>Bibliography</a></li><li class=menu-link-references><a href=#references aria-label=References>References</a></li><li class=menu-link-backlinks><a href=#backlinks aria-label=Backlinks>Backlinks</a></li></ul></div></details></div><div class=post-content><p>This is a guide to setting up access to email from a Gmail account (eg: @gmail.com) within <a href=/posts/5ad4f07c-b06a-4dbf-afa5-176f25b0ded7/>Emacs</a> (<a href=/posts/983095a2-2f92-46a9-868b-c79fa11fbcbb/>Doom Emacs</a>) using <a href=https://notmuchmail.org/ target=_blank rel=noopener><code>notmuch</code></a> (<a href=https://web.archive.org/web/2021*/https://notmuchmail.org/ rel="noopener noreferrer" target=_blank>a</a>) and <a href=https://github.com/gauteh/lieer target=_blank rel=noopener><code>lieer</code></a> (<a href=https://web.archive.org/web/2021*/https://github.com/gauteh/lieer rel="noopener noreferrer" target=_blank>a</a>).</p><p>You may have to complete additional steps if you are not using <a href=https://github.com/hlissner/doom-emacs target=_blank rel=noopener><code>doom emacs</code></a> (<a href=https://web.archive.org/web/2021*/https://github.com/hlissner/doom-emacs rel="noopener noreferrer" target=_blank>a</a>) or if your set-up differs from mine in other ways.</p><h2 id=prerequisites>Prerequisites<a hidden class=anchor aria-hidden=true href=#prerequisites>¶</a></h2><p>Please be sure you&rsquo;ve completed these steps before continuing:</p><h3 id=required-software>Required Software<a hidden class=anchor aria-hidden=true href=#required-software>¶</a></h3><ol><li><p><code>lieer</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git clone https://github.com/gauteh/lieer.git
</span></span><span style=display:flex><span>cd lieer
</span></span><span style=display:flex><span>pip3 install -r requirements.txt
</span></span></code></pre></div></li><li><p><code>notmuch</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo apt install notmuch
</span></span></code></pre></div></li></ol><h3 id=create-an-oauth2-client-id>Create an OAuth2 Client ID<a hidden class=anchor aria-hidden=true href=#create-an-oauth2-client-id>¶</a></h3><ol><li>Please refer to: <a href=/posts/486b286b-8806-4282-af4e-cfbac4fb0990/>Create an OAuth2 Client ID</a></li><li>Ensure GMail APIs are enabled for this Client ID.</li><li>Download the JSON format of this key.</li></ol><h3 id=enable-notmuch-within-emacs>Enable <code>notmuch</code> within <code>emacs</code><a hidden class=anchor aria-hidden=true href=#enable-notmuch-within-emacs>¶</a></h3><p>This is written for those using <a href=https://github.com/hlissner/doom-emacs target=_blank rel=noopener><code>doom emacs</code></a> (<a href=https://web.archive.org/web/2021*/https://github.com/hlissner/doom-emacs rel="noopener noreferrer" target=_blank>a</a>). Those using other flavors of <code>emacs</code> will need to enable <code>notmuch</code> on their own.</p><ol><li>Enable <code>notmuch</code> by uncommenting <code>notmuch</code> within <code>init.el</code> beneath the <code>:email</code> header.</li><li>Run <code>doom sync</code> in your shell.</li><li>Reload <code>doom emacs</code> by either killing <code>emacs</code> and restarting, or by running <code>doom/reload</code> (<code>SPC : doom/reload</code> or <code>SPC h r r</code>).</li></ol><h2 id=configure-notmuch>Configure <code>notmuch</code><a hidden class=anchor aria-hidden=true href=#configure-notmuch>¶</a></h2><p>These steps are pulled from <code>notmuch</code>&rsquo;s own <a href=https://notmuchmail.org/getting-started/ target=_blank rel=noopener>documentation</a> (<a href=https://web.archive.org/web/2021*/https://notmuchmail.org/getting-started/ rel="noopener noreferrer" target=_blank>a</a>).</p><ol><li><p>Run <code>notmuch</code> in your shell to create <code>~/.notmuch-config</code>.</p></li><li><p>Perform initial indexing:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># Create a directory to house your mail if you don&#39;t already have one.</span>
</span></span><span style=display:flex><span>mkdir -p /path/to/your/mail/directory
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cd /path/to/your/mail/directory
</span></span><span style=display:flex><span>notmuch new
</span></span></code></pre></div><p>You should see something like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Found 0 total files (that&#39;s not much mail)
</span></span><span style=display:flex><span>No new mail.
</span></span></code></pre></div></li></ol><h2 id=configure-lieer>Configure <code>lieer</code><a hidden class=anchor aria-hidden=true href=#configure-lieer>¶</a></h2><p>These steps are pulled from <code>lieer</code>&rsquo;s own <a href=https://github.com/gauteh/lieer#usage target=_blank rel=noopener>documentation</a> (<a href=https://web.archive.org/web/2021*/https://github.com/gauteh/lieer#usage rel="noopener noreferrer" target=_blank>a</a>).</p><ol><li><p>Make a directory for the lieer storage and state files (local repository).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cd /path/to/your/mail/directory
</span></span><span style=display:flex><span>mkdir &lt;you&gt;.gmail
</span></span><span style=display:flex><span>cd you.gmail
</span></span></code></pre></div></li><li><p>Update your <code>~/.notmuch-config</code> to ignore <code>json</code>, <code>lock</code>, and <code>bak</code> files by updating the <code>[new]</code> section to read:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>[new]
</span></span><span style=display:flex><span>tags=new
</span></span><span style=display:flex><span>ignore=/.*[.](json|lock|bak)$/
</span></span></code></pre></div></li><li><p>Initialize your mail storage.</p><p>This command will open a new tab in your browser. We need to run this command once before we can specify our own credentials. Feel free to close the tab as soon as it opens as we&rsquo;ll be swapping the default client id with our own in the next steps.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># From within /path/to/your/mail/directory/&lt;you&gt;.gmail</span>
</span></span><span style=display:flex><span>/path/to/lieer/gmi init &lt;you&gt;@gmail.com
</span></span></code></pre></div></li><li><p>Cancel out (<code>CTRL-C</code>).</p><p>You should see a message similar to:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>init: repository is set up, but authorization failed. re-run &#39;gmi auth&#39; with proper parameters to complete authorization
</span></span></code></pre></div></li><li><p>Set your credentials.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># From within /path/to/your/mail/directory/&lt;you&gt;.gmail</span>
</span></span><span style=display:flex><span>/path/to/lieer/gmi auth <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --credentials<span style=color:#f92672>=</span>/path/to/your/OAuth2/client/id.json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Or, if you&#39;re working remotely (SSHing into your workstation, etc)</span>
</span></span><span style=display:flex><span>/path/to/lieer/gmi <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --noauth_local_webserver <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  auth <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --credentials<span style=color:#f92672>=</span>/path/to/your/OAuth2/client/id.json
</span></span></code></pre></div><p>Open the link and authenticate using your <code>@gmail.com</code> account. Copy the code and paste it back into the running <code>gmi</code> command. You should see a message like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Authentication successful.
</span></span><span style=display:flex><span>credentials stored in /path/to/your/mail/directory/you.gmail/.credentials.gmailieer.json
</span></span></code></pre></div></li><li><p>Sync your email.</p><p>This step may take a long time. My initial sync of 90k emails took 56 real-time minutes.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># From within /path/to/your/mail/directory/&lt;you&gt;.gmail</span>
</span></span><span style=display:flex><span>/path/to/lieer/gmi sync
</span></span></code></pre></div></li></ol><h2 id=sync-emails-periodically>Sync emails periodically<a hidden class=anchor aria-hidden=true href=#sync-emails-periodically>¶</a></h2><p>You could also use a <code>systemd</code> timer for this.</p><ol><li><p>Create a new shell script to sync your email. Remember to <code>chmod 777</code>!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>cd /path/to/your/mail/directory/you.gmail
</span></span><span style=display:flex><span>/path/to/lieer/gmi sync
</span></span></code></pre></div></li><li><p>Configure the cronjob with <code>crontab -e</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span># Sync email with lieer every three minutes.
</span></span><span style=display:flex><span>*/3 * * * * bash /path/to/your/script/sync_email.sh
</span></span></code></pre></div></li></ol><h2 id=configure-notmuch-within-emacs--optional>Configure <code>notmuch</code> within <code>emacs</code> (optional)<a hidden class=anchor aria-hidden=true href=#configure-notmuch-within-emacs--optional>¶</a></h2><ul><li><p>Set up <a href=https://notmuchmail.org/doc/latest/notmuch-emacs.html#saved-searches target=_blank rel=noopener>saved searches</a> (<a href=https://web.archive.org/web/2021*/https://notmuchmail.org/doc/latest/notmuch-emacs.html#saved-searches rel="noopener noreferrer" target=_blank>a</a>).</p></li><li><p>Prevent wrapping text at 70 characters while composing an email:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>;; This is valid in doom emacs. You may need to customize for other distributions.
</span></span><span style=display:flex><span>;; Prevent wrapping at 70 characters in email composition.
</span></span><span style=display:flex><span>(add-hook! &#39;message-mode-hook &#39;turn-off-auto-fill)
</span></span><span style=display:flex><span>(add-hook! &#39;message-mode-hook &#39;visual-line-mode)
</span></span></code></pre></div></li></ul><h2 id=done>Done!<a hidden class=anchor aria-hidden=true href=#done>¶</a></h2><p>For those of you using <a href=https://github.com/hlissner/doom-emacs target=_blank rel=noopener><code>doom emacs</code></a> (<a href=https://web.archive.org/web/2021*/https://github.com/hlissner/doom-emacs rel="noopener noreferrer" target=_blank>a</a>), you can open notmuch from anywhere with <code>SPC o m</code>.</p><h2 id=bibliography>Bibliography<a hidden class=anchor aria-hidden=true href=#bibliography>¶</a></h2><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>¶</a></h2><style>.csl-entry{text-indent:-1.5em;margin-left:1.5em}</style><div class=csl-bib-body></div><h2 id=backlinks>Backlinks<a hidden class=anchor aria-hidden=true href=#backlinks>¶</a></h2><ul><li><a href=/posts/8f61e9e6-4f19-4a64-b392-185062df45a0/>Email in emacs</a></li></ul></div><footer class=post-footer><script>var nextUntil=function(e,t,n){var s=[];for(e=e.nextElementSibling;e;){if(e.matches(t))break;if(n&&!e.matches(n)){e=e.nextElementSibling;continue}s.push(e),e=e.nextElementSibling}return s};const flashcardHeader=document.getElementById("flashcards");if(flashcardHeader){const o=nextUntil(flashcardHeader,"h2"),e=document.createElement("div");e.setAttribute("class","toc flashcards");const t=document.createElement("details");e.appendChild(t);const s=document.createElement("summary");t.appendChild(s);const n=document.createElement("div");n.setAttribute("class","inner"),t.appendChild(n),nextUntil(flashcardHeader,"h2").forEach(e=>{n.appendChild(e)}),flashcardHeader.parentNode.insertBefore(document.createElement("hr"),flashcardHeader),flashcardHeader.parentNode.insertBefore(e,flashcardHeader),s.appendChild(flashcardHeader)}</script><script>const backlinkHeader=document.getElementById("backlinks");if(backlinkHeader){const t=document.createElement("h4");t.innerHTML=backlinkHeader.innerHTML;const n=backlinkHeader.nextElementSibling;console.log(n);const e=document.createElement("aside");e.setAttribute("class","backlinks toc side right"),backlinkHeader.parentNode.insertBefore(e,backlinkHeader),e.appendChild(t),e.appendChild(n),backlinkHeader.remove(),t.id="backlinks"}</script><script src=/js/citations/custom.js></script></footer></article></main><footer class=footer><span>&copy; 2023 <a href=http://notes.cashpw.com/>Cash Prokop-Weaver</a></span><span style=display:inline-block;margin-left:1em>
<a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA</a></span>
<span style=display:inline-block;margin-left:1em>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://github.com/reorx/hugo-PaperModX/ rel=noopener target=_blank>PaperModX</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>(function(){const t=""=="1";if(t)return;let e=document.getElementById("theme-toggle");e.removeEventListener("click",toggleThemeListener),e.addEventListener("click",toggleThemeListener)})()</script><script>(function(){let e=document.getElementById("menu");e&&(e.scrollLeft=localStorage.getItem("menu-scroll-position"),e.onscroll=function(){localStorage.setItem("menu-scroll-position",e.scrollLeft)});const t=""=="1",n=""=="1";if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||t||n)return;document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})})()</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>if(window.scrollListeners)for(const e of scrollListeners)window.removeEventListener("scroll",e);window.scrollListeners=[]</script><script src=/js/medium-zoom.min.js data-no-instant></script>
<script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>(function(){const a="1"=="1";if(!a)return;if(!document.querySelector(".toc")){console.log("no toc found, ignore toc scroll");return}const r=window.scrollListeners,t=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id]"),n="active";let e=t[0];o(e).classList.add(n);const c=()=>{const s=[];for(const e of t)if(l(e)<5)s.push(e);else break;s.length>0?newActiveHeading=s[s.length-1]:newActiveHeading=t[0],e!=newActiveHeading&&(o(e).classList.remove(n),e=newActiveHeading,o(e).classList.add(n))};let s=null;const i=()=>{s!==null&&clearTimeout(s),s=setTimeout(c,50)};window.addEventListener("scroll",i,!1),r.push(i);function o(e){const t=encodeURI(e.getAttribute("id")).toLowerCase();return document.querySelector(`.toc ul li a[href="#${t}"]`)}function l(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect();return t.top}})()</script></body></html>