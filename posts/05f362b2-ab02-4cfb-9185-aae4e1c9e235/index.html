<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Jose Luis Ricon | On Bloom's Two Sigma Problem: A systematic review of the effectiveness of mastery learning, tutoring, and direct instruction | Cash Prokop-Weaver</title><meta name=keywords content="reference,reference"><meta name=description content="Jose Luis Ricon, (NO_ITEM_DATA:riconBloomTwoSigmaProblemSystematicReviewEffectivenessMasteryLearningTutoring2019)
Thoughts Wordcount: 13459 | Reading time: 72 min
I suppose I should have expected that with a title that includes &ldquo;systematic review&rdquo;. Nonetheless I&rsquo;d have preferred a more explicit conclusion. The gist, as I see it based on reading (read: skimming) the piece:
The benefits of Direct Instruction are most relevant for low-socioeconomic-status learners and those educationally disadvantaged Mastery learning&rsquo;s benefits are likely derived from it&rsquo;s implicit use of the Testing effect Spaced repetition is indeed very effective A key question of education is &ldquo;What should we learn?"><meta name=author content><link rel=canonical href=http://notes.cashpw.com/posts/05f362b2-ab02-4cfb-9185-aae4e1c9e235/><link crossorigin=anonymous href=/assets/css/stylesheet.min.9007c896ec996ba5ebf9426a26d82d6ed8dae8c200cf0b759a8a574a116b055b.css integrity="sha256-kAfIluyZa6Xr+UJqJtgtbtja6MIAzwt1mopXShFrBVs=" rel="preload stylesheet" as=style><link rel=icon href=http://notes.cashpw.com/favicon.ico><link rel=apple-touch-icon href=http://notes.cashpw.com/apple-touch-icon.png><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-69408538-1","auto"),ga("send","pageview"))</script><meta name=twitter:title content="Jose Luis Ricon | On Bloom's Two Sigma Problem: A systematic review of the effectiveness of mastery learning, tutoring, and direct instruction | Cash Prokop-Weaver"><meta name=twitter:description content="Jose Luis Ricon, (NO_ITEM_DATA:riconBloomTwoSigmaProblemSystematicReviewEffectivenessMasteryLearningTutoring2019)
Thoughts Wordcount: 13459 | Reading time: 72 min
I suppose I should have expected that with a title that includes &ldquo;systematic review&rdquo;. Nonetheless I&rsquo;d have preferred a more explicit conclusion. The gist, as I see it based on reading (read: skimming) the piece:
The benefits of Direct Instruction are most relevant for low-socioeconomic-status learners and those educationally disadvantaged Mastery learning&rsquo;s benefits are likely derived from it&rsquo;s implicit use of the Testing effect Spaced repetition is indeed very effective A key question of education is &ldquo;What should we learn?"><meta property="og:title" content="Jose Luis Ricon | On Bloom's Two Sigma Problem: A systematic review of the effectiveness of mastery learning, tutoring, and direct instruction | Cash Prokop-Weaver"><meta property="og:description" content="Jose Luis Ricon, (NO_ITEM_DATA:riconBloomTwoSigmaProblemSystematicReviewEffectivenessMasteryLearningTutoring2019)
Thoughts Wordcount: 13459 | Reading time: 72 min
I suppose I should have expected that with a title that includes &ldquo;systematic review&rdquo;. Nonetheless I&rsquo;d have preferred a more explicit conclusion. The gist, as I see it based on reading (read: skimming) the piece:
The benefits of Direct Instruction are most relevant for low-socioeconomic-status learners and those educationally disadvantaged Mastery learning&rsquo;s benefits are likely derived from it&rsquo;s implicit use of the Testing effect Spaced repetition is indeed very effective A key question of education is &ldquo;What should we learn?"><meta property="og:type" content="article"><meta property="og:url" content="http://notes.cashpw.com/posts/05f362b2-ab02-4cfb-9185-aae4e1c9e235/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-11T10:07:00-08:00"><meta property="article:modified_time" content="2023-12-23T13:25:40-08:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://notes.cashpw.com/posts/"},{"@type":"ListItem","position":2,"name":"Jose Luis Ricon | On Bloom's Two Sigma Problem: A systematic review of the effectiveness of mastery learning, tutoring, and direct instruction","item":"http://notes.cashpw.com/posts/05f362b2-ab02-4cfb-9185-aae4e1c9e235/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Jose Luis Ricon | On Bloom's Two Sigma Problem: A systematic review of the effectiveness of mastery learning, tutoring, and direct instruction | Cash Prokop-Weaver","name":"Jose Luis Ricon | On Bloom\u0027s Two Sigma Problem: A systematic review of the effectiveness of mastery learning, tutoring, and direct instruction","description":"Jose Luis Ricon, (NO_ITEM_DATA:riconBloomTwoSigmaProblemSystematicReviewEffectivenessMasteryLearningTutoring2019)\nThoughts Wordcount: 13459 | Reading time: 72 min\nI suppose I should have expected that with a title that includes \u0026ldquo;systematic review\u0026rdquo;. Nonetheless I\u0026rsquo;d have preferred a more explicit conclusion. The gist, as I see it based on reading (read: skimming) the piece:\nThe benefits of Direct Instruction are most relevant for low-socioeconomic-status learners and those educationally disadvantaged Mastery learning\u0026rsquo;s benefits are likely derived from it\u0026rsquo;s implicit use of the Testing effect Spaced repetition is indeed very effective A key question of education is \u0026ldquo;What should we learn?","keywords":["reference","reference"],"wordCount":"1063","inLanguage":"en","datePublished":"2023-01-11T10:07:00-08:00","dateModified":"2023-12-23T13:25:40-08:00","author":[{"@type":"Person","name":"Cash Weaver"}],"mainEntityOfPage":{"@type":"WebPage","@id":"http://notes.cashpw.com/posts/05f362b2-ab02-4cfb-9185-aae4e1c9e235/"},"publisher":{"@type":"Organization","name":"Cash Prokop-Weaver","logo":{"@type":"ImageObject","url":"http://notes.cashpw.com/favicon.ico"}}}</script><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0,macros:{bigo:["{\\href{/posts/big_o_notation}{O}}(#1)",1],littleo:["{\\href{/posts/little_o_notation}{o}}(#1)",1],bigtheta:["{\\href{/posts/big_theta_notation}{\\Theta}}(#1)",1],bigomega:["{\\href{/posts/big_omega_notation}{\\Omega}}(#1)",1]}},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript></head><body class="dark type-posts kind-page layout-" id=top><script data-no-instant>function switchTheme(e){switch(e){case"light":document.body.classList.remove("dark");break;case"dark":document.body.classList.add("dark");break;default:window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")}}function isDarkTheme(){return document.body.className.includes("dark")}function getPrefTheme(){return localStorage.getItem("pref-theme")}function setPrefTheme(e){switchTheme(e),localStorage.setItem("pref-theme",e)}const toggleThemeCallbacks={};toggleThemeCallbacks.main=e=>{setPrefTheme(e?"light":"dark")},window.addEventListener("toggle-theme",function(){const e=isDarkTheme();for(const t in toggleThemeCallbacks)toggleThemeCallbacks[t](e)});function toggleThemeListener(){window.dispatchEvent(new CustomEvent("toggle-theme"))}</script><script>(function(){const t="dark",e=getPrefTheme(),n=e||t;switchTheme(n)})()</script><header class=header><nav class=nav><div class=logo><a href=http://notes.cashpw.com/ accesskey=h title="Cash Prokop-Weaver (Alt + H)">Cash Prokop-Weaver</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><button id=menu-trigger aria-haspopup=menu aria-label="Menu Button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><ul id=menu class="menu hidden"><li><a href=http://notes.cashpw.com/archives/ title=Archives>Archives</a></li><li><a href=http://notes.cashpw.com/search/ title="Search (Alt + /)" data-no-instant accesskey=/>Search</a></li></ul></nav></header><main class="main post"><article class=post-single data-pagefind-body><header class=post-header><h1 class=post-title>Jose Luis Ricon | On Bloom's Two Sigma Problem: A systematic review of the effectiveness of mastery learning, tutoring, and direct instruction</h1><div class=post-meta><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg><span>2023-01-11</span></span><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentcolor" class="bi bi-pencil" viewBox="0 0 16 16"><path d="M12.146.146a.5.5.0 01.708.0l3 3a.5.5.0 010 .708l-10 10a.5.5.0 01-.168.11l-5 2a.5.5.0 01-.65-.65l2-5a.5.5.0 01.11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5.0 01.5.5v.5h.5a.5.5.0 01.5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5.0 015 12.5V12h-.5a.5.5.0 01-.5-.5V11h-.5a.5.5.0 01-.468-.325"/></svg>
<span>2023-12-23</span></span><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>5 min</span></span></div><div class="post-meta post-references"></div></header><div class="toc side left"><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#thoughts aria-label=Thoughts>Thoughts</a></li><li><a href=#notes aria-label=Notes>Notes</a><ul><li><a href=#why-would-mastery-learning-work-some-proposed-experiments aria-label="Why would mastery learning work? Some proposed experiments">Why would mastery learning work? Some proposed experiments</a></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li><li><a href=#coda-what-should-you-learn aria-label="Coda: What should you learn">Coda: What should you learn</a></li></ul></li><li><a href=#bibliography aria-label=Bibliography>Bibliography</a></li><li><a href=#references aria-label=References>References</a></li><li><a href=#backlinks aria-label=Backlinks>Backlinks</a></li></ul></div></details></div><div class=post-content><p><a href=/posts/803ade2e-9b8f-4bac-9ddb-565e9a8bfce7/>Jose Luis Ricon</a>, (NO_ITEM_DATA:riconBloomTwoSigmaProblemSystematicReviewEffectivenessMasteryLearningTutoring2019)</p><h2 id=thoughts>Thoughts<a hidden class=anchor aria-hidden=true href=#thoughts>¶</a></h2><blockquote><p>Wordcount: 13459 | Reading time: 72 min</p></blockquote><p>I suppose I should have expected that with a title that includes &ldquo;systematic review&rdquo;. Nonetheless I&rsquo;d have preferred a more explicit conclusion. The gist, as I see it based on reading (read: skimming) the piece:</p><ul><li>The benefits of Direct Instruction are most relevant for low-socioeconomic-status learners and those educationally disadvantaged</li><li><a href=/posts/162d37be-0ce1-4ba1-baff-101ba72fa811/>Mastery learning</a>&rsquo;s benefits are likely derived from it&rsquo;s implicit use of the <a href=/posts/858c6cb1-52a9-446a-b11f-b35229b528e0/>Testing effect</a></li><li><a href=/posts/a72eecfc-c64a-438a-ae26-d18c5725cd5c/>Spaced repetition</a> is indeed <em>very</em> effective</li><li>A key question of education is &ldquo;What should we learn?&rdquo; and not only &ldquo;How can we learn more effectively/faster/better/etc?&rdquo;. As an example: &ldquo;What&rsquo;s the effect size of removing history from the curriculum and leaving more time for the kids to play?&rdquo; I wouldn&rsquo;t want to remove history but that idea, &ldquo;What are the opportunity costs of our curriculum&rdquo;, are valuable.</li></ul><h2 id=notes>Notes<a hidden class=anchor aria-hidden=true href=#notes>¶</a></h2><h3 id=why-would-mastery-learning-work-some-proposed-experiments>Why would mastery learning work? Some proposed experiments<a hidden class=anchor aria-hidden=true href=#why-would-mastery-learning-work-some-proposed-experiments>¶</a></h3><blockquote><p>Suppose that something by the name &ldquo;The Incredible Learning Method&rdquo; or TILM has been shown to increase performance by d=0.5. One then wonders what TILM is. TILM consists on doing spaced repetition and doing pushups every day.</p><p>Should we then recommend that kids do pushups if they want to learn? Or should we find what, ultimately, causes TILM to work?</p><p>In this approach, we break down a method into its components and experiment with them separately, or together by parts, seeing what effects we find. Then, we could try to study how each of the subcomponents behaves in other samples, or try to find neuroscience-level explanations for them.</p><p>For spaced repetition, the answer here would be the underlying idea of there being a <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0120644" target=_blank rel=noopener>forgetting curve</a> <span class=archival-link>(<a href="https://web.archive.org/web/2023*/https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0120644" rel="noopener noreferrer" target=_blank>a</a>)</span> which in turn might be possible to explain by some feature of how the brain works at a low level.</p><p>In fact, could it be that mastery learning is spaced repetition in disguise?</p><p>Or, it could also be that the thing doing the trick is just more time: If we assume that the more exposed one is to a concept more one learns it (with perhaps some plateau at the end), then the fact that a student keeps studying over and over the same material would increase performance. If so, mastery learning wouldn&rsquo;t have an effect if one controls for time invested in instruction. As Slavin puts it:</p><div class=quote2><p>In an extreme form, the central contentions of mastery learning theory are almost tautologically true. If we establish a reasonable set of learning objectives and demand that every student achieve them at a high level regardless of how long that takes, then it is virtually certain that all students will ultimately achieve that criterion.</p></div><p>Or, it could also be that it is just the testing that is doing the work. Recall, mastery learning is a study-test-feedback-corrective loop. Slavin found that the study-test-feedback loop works almost as well. But we also know that study-test also works! This is known as the <a href=https://www.gwern.net/Spaced-repetition#background-testing-works target=_blank rel=noopener>testing effect</a> <span class=archival-link>(<a href=https://web.archive.org/web/2023*/https://www.gwern.net/Spaced-repetition#background-testing-works rel="noopener noreferrer" target=_blank>a</a>)</span>.</p><p>Or, it could also be that mastering lesson N does have an impact on better absorbing the knowledge in lessons N+i. If so, a way to study this would be teaching a group with mastery learning and another with regular methods one lesson, then teaching both groups with regular methods lesson 2. If mastery learning works, then the group of students that originally was taught with mastery learning should get better results. This is, it seems to me, the only genuine &ldquo;mastery&rdquo; effect.</p></blockquote><h3 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>¶</a></h3><blockquote><p>Bloom noted that mastery learning had an effect size of around 1 (one sigma); while tutoring leads to d=2. This is mostly an outlier case.</p><p>Nonetheless, Bloom was on to something: Tutoring and mastery learning do have a degree of experimental support, and fortunately it seems that carefully designed software systems can completely replace the instructional side of traditional teaching, achieving better results, on par with one to one tutoring. However, designing them is a hard endeavour, and there is a motivational component of teachers that may not be as easily replicable purely by software.</p><p>Overall, it&rsquo;s good news that the effects are present for younger and older students, and across subjects, but the effect sizes of tutoring, mastery learning or DI are not as good as they would seem from Bloom&rsquo;s paper. That said, it is true that tutoring does have large effect sizes, and that properly designed software does as well. The DARPA case study shows what is possible with software tutoring, in the case the effect sizes went even beyond Bloom&rsquo;s paper.</p><p>[&mldr;] Mastery learning, it seems, works by overfitting to a test, and the chances that those skills do not generalise are nontrivial.</p></blockquote><h3 id=coda-what-should-you-learn>Coda: What should you learn<a hidden class=anchor aria-hidden=true href=#coda-what-should-you-learn>¶</a></h3><blockquote><p>I have been discussing above learning methods. But what about learning content? What should one learn? Bryan Caplan, in his book The Case Against Education10 argues that skills are not very transferable: you get good at what you do, and you quickly forget everything else. This informed my priors when looking at the mastery learning literature; and so I was not that surprised to find the issue with the kinds of tests I outlined in my section on Slavin.</p><p>Caplan is right, and this opens an avenue to improve teaching: Suppose you focus on the very basics that will most likely be useful to the students in the future (reading, writing, mathematics). With the time freed up from not teaching other subjects, one can both help disadvantaged students get good at those core topics, and let non-disadvantaged students use the extra time to learn about whatever they want. I would even suggest let them go home, but it may be argued one of the implicit roles of school is that of a place to keep the kids while the parents are working, a kindergarten for older children, but if parents are okay letting their kids roam around, and cities are safe, this is not an issue. Definitely worth exploring.</p><p>Granting that one can use DI to hammer down very basic points, should one also hammer down History and English Literature? Just because you can make the learning of those happen doesn&rsquo;t mean that you should: the effectiveness of an intervention also depends on the values being used to judge it. What&rsquo;s the effect size of removing History from the curriculum and leaving more time for the kids to play?</p></blockquote><h2 id=bibliography>Bibliography<a hidden class=anchor aria-hidden=true href=#bibliography>¶</a></h2><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>¶</a></h2><style>.csl-entry{text-indent:-1.5em;margin-left:1.5em}</style><div class=csl-bib-body><div class=csl-entry>NO_ITEM_DATA:riconBloomTwoSigmaProblemSystematicReviewEffectivenessMasteryLearningTutoring2019</div></div><h2 id=backlinks>Backlinks<a hidden class=anchor aria-hidden=true href=#backlinks>¶</a></h2><ul><li><a href=/posts/b88f8a74-52c1-44a8-a39e-d66b5587516f/>Jose Luis Ricon | On Building</a></li></ul></div><footer class=post-footer><script>const backlinkHeader=document.getElementById("backlinks");if(backlinkHeader){const t=document.createElement("h4");t.innerHTML=backlinkHeader.innerHTML;const n=backlinkHeader.nextElementSibling;console.log(n);const e=document.createElement("aside");e.setAttribute("class","backlinks toc side right"),backlinkHeader.parentNode.insertBefore(e,backlinkHeader),e.appendChild(t),e.appendChild(n),backlinkHeader.remove(),t.id="backlinks"}</script><script src=/js/citations/custom.js></script></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://notes.cashpw.com/>Cash Prokop-Weaver</a></span><span style=display:inline-block;margin-left:1em>
<a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA</a></span>
<span style=display:inline-block;margin-left:1em>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://github.com/reorx/hugo-PaperModX/ rel=noopener target=_blank>PaperModX</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>const menuTrigger=document.querySelector("#menu-trigger"),menu=document.querySelector(".menu");menuTrigger.addEventListener("click",function(){menu.classList.toggle("hidden")}),document.body.addEventListener("click",function(e){menuTrigger.contains(e.target)||menu.classList.add("hidden")});const mobileWidthCutoffInPixels=768;window.screen.width>mobileWidthCutoffInPixels&&document.querySelectorAll(".toc").forEach(e=>{e.querySelectorAll(":scope > details").forEach(e=>{e.setAttribute("open","")})})</script><script>(function(){const t=""=="1";if(t)return;let e=document.getElementById("theme-toggle");e.removeEventListener("click",toggleThemeListener),e.addEventListener("click",toggleThemeListener)})()</script><script>(function(){let e=document.getElementById("menu");e&&(e.scrollLeft=localStorage.getItem("menu-scroll-position"),e.onscroll=function(){localStorage.setItem("menu-scroll-position",e.scrollLeft)});const t=""=="1",n=""=="1";if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||t||n)return;document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})})()</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>if(window.scrollListeners)for(const e of scrollListeners)window.removeEventListener("scroll",e);window.scrollListeners=[]</script><script src=/js/medium-zoom.min.js data-no-instant></script>
<script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>(function(){const a="1"=="1";if(!a)return;if(!document.querySelector(".toc")){console.log("no toc found, ignore toc scroll");return}const r=window.scrollListeners,t=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id]"),n="active";let e=t[0];o(e).classList.add(n);const c=()=>{const s=[];for(const e of t)if(l(e)<5)s.push(e);else break;s.length>0?newActiveHeading=s[s.length-1]:newActiveHeading=t[0],e!=newActiveHeading&&(o(e).classList.remove(n),e=newActiveHeading,o(e).classList.add(n))};let s=null;const i=()=>{s!==null&&clearTimeout(s),s=setTimeout(c,50)};window.addEventListener("scroll",i,!1),r.push(i);function o(e){const t=encodeURI(e.getAttribute("id")).toLowerCase();return document.querySelector(`.toc ul li a[href="#${t}"]`)}function l(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect();return t.top}})()</script></body></html>