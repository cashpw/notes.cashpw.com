<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Scott Alexander | Book Review: Why We're Polarized | Cash Prokop-Weaver</title><meta name=keywords content="reference,reference"><meta name=description content="Ezra Klein, (NO_ITEM_DATA:alexanderBookReviewWhyWeRePolarized2021)
Summary Book review of (NO_ITEM_DATA:kleinWhyWeRePolarized2020).
Thoughts While I haven&rsquo;t read (NO_ITEM_DATA:kleinWhyWeRePolarized2020), this reivew leads me to the conclusion that it&rsquo;s a blown out version of Ezra Klein | Why We Can&rsquo;t Build.
Notes Did you know that seventy years ago, our grandparents were having an underpolarization crisis? True! In 1950, the American Political Science Association &ldquo;released a call to arms&mldr;pleading for a more polarized political system&rdquo;. The report argued that &ldquo;the parties contain too much diversity of opinion and work together too easily, leaving voters confused about who to vote for and why&rdquo;."><meta name=author content><link rel=canonical href=http://notes.cashpw.com/posts/8514d260-eb32-4b31-8559-6cd8990dfc06/><link crossorigin=anonymous href=/assets/css/stylesheet.min.a109242860457523618478746aa1f046b0367c7f5735f6a822034969bb999ea7.css integrity="sha256-oQkkKGBFdSNhhHh0aqHwRrA2fH9XNfaoIgNJabuZnqc=" rel="preload stylesheet" as=style><link rel=icon href=http://notes.cashpw.com/favicon.ico><link rel=apple-touch-icon href=http://notes.cashpw.com/apple-touch-icon.png><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-69408538-1","auto"),ga("send","pageview"))</script><meta name=twitter:title content="Scott Alexander | Book Review: Why We're Polarized | Cash Prokop-Weaver"><meta name=twitter:description content="Ezra Klein, (NO_ITEM_DATA:alexanderBookReviewWhyWeRePolarized2021)
Summary Book review of (NO_ITEM_DATA:kleinWhyWeRePolarized2020).
Thoughts While I haven&rsquo;t read (NO_ITEM_DATA:kleinWhyWeRePolarized2020), this reivew leads me to the conclusion that it&rsquo;s a blown out version of Ezra Klein | Why We Can&rsquo;t Build.
Notes Did you know that seventy years ago, our grandparents were having an underpolarization crisis? True! In 1950, the American Political Science Association &ldquo;released a call to arms&mldr;pleading for a more polarized political system&rdquo;. The report argued that &ldquo;the parties contain too much diversity of opinion and work together too easily, leaving voters confused about who to vote for and why&rdquo;."><meta property="og:title" content="Scott Alexander | Book Review: Why We're Polarized | Cash Prokop-Weaver"><meta property="og:description" content="Ezra Klein, (NO_ITEM_DATA:alexanderBookReviewWhyWeRePolarized2021)
Summary Book review of (NO_ITEM_DATA:kleinWhyWeRePolarized2020).
Thoughts While I haven&rsquo;t read (NO_ITEM_DATA:kleinWhyWeRePolarized2020), this reivew leads me to the conclusion that it&rsquo;s a blown out version of Ezra Klein | Why We Can&rsquo;t Build.
Notes Did you know that seventy years ago, our grandparents were having an underpolarization crisis? True! In 1950, the American Political Science Association &ldquo;released a call to arms&mldr;pleading for a more polarized political system&rdquo;. The report argued that &ldquo;the parties contain too much diversity of opinion and work together too easily, leaving voters confused about who to vote for and why&rdquo;."><meta property="og:type" content="article"><meta property="og:url" content="http://notes.cashpw.com/posts/8514d260-eb32-4b31-8559-6cd8990dfc06/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-11T14:54:00-08:00"><meta property="article:modified_time" content="2023-12-05T20:57:41-08:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://notes.cashpw.com/posts/"},{"@type":"ListItem","position":2,"name":"Scott Alexander | Book Review: Why We're Polarized","item":"http://notes.cashpw.com/posts/8514d260-eb32-4b31-8559-6cd8990dfc06/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Scott Alexander | Book Review: Why We're Polarized | Cash Prokop-Weaver","name":"Scott Alexander | Book Review: Why We\u0027re Polarized","description":"Ezra Klein, (NO_ITEM_DATA:alexanderBookReviewWhyWeRePolarized2021)\nSummary Book review of (NO_ITEM_DATA:kleinWhyWeRePolarized2020).\nThoughts While I haven\u0026rsquo;t read (NO_ITEM_DATA:kleinWhyWeRePolarized2020), this reivew leads me to the conclusion that it\u0026rsquo;s a blown out version of Ezra Klein | Why We Can\u0026rsquo;t Build.\nNotes Did you know that seventy years ago, our grandparents were having an underpolarization crisis? True! In 1950, the American Political Science Association \u0026ldquo;released a call to arms\u0026hellip;pleading for a more polarized political system\u0026rdquo;. The report argued that \u0026ldquo;the parties contain too much diversity of opinion and work together too easily, leaving voters confused about who to vote for and why\u0026rdquo;.","keywords":["reference","reference"],"wordCount":"1543","inLanguage":"en","datePublished":"2023-01-11T14:54:00-08:00","dateModified":"2023-12-05T20:57:41-08:00","author":[{"@type":"Person","name":"Cash Weaver"}],"mainEntityOfPage":{"@type":"WebPage","@id":"http://notes.cashpw.com/posts/8514d260-eb32-4b31-8559-6cd8990dfc06/"},"publisher":{"@type":"Organization","name":"Cash Prokop-Weaver","logo":{"@type":"ImageObject","url":"http://notes.cashpw.com/favicon.ico"}}}</script><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0,macros:{bigo:["{\\href{/posts/big_o_notation}{O}}(#1)",1],littleo:["{\\href{/posts/little_o_notation}{o}}(#1)",1],bigtheta:["{\\href{/posts/big_theta_notation}{\\Theta}}(#1)",1],bigomega:["{\\href{/posts/big_omega_notation}{\\Omega}}(#1)",1]}},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript></head><body class="dark type-posts kind-page layout-" id=top><script data-no-instant>function switchTheme(e){switch(e){case"light":document.body.classList.remove("dark");break;case"dark":document.body.classList.add("dark");break;default:window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")}}function isDarkTheme(){return document.body.className.includes("dark")}function getPrefTheme(){return localStorage.getItem("pref-theme")}function setPrefTheme(e){switchTheme(e),localStorage.setItem("pref-theme",e)}const toggleThemeCallbacks={};toggleThemeCallbacks.main=e=>{setPrefTheme(e?"light":"dark")},window.addEventListener("toggle-theme",function(){const e=isDarkTheme();for(const t in toggleThemeCallbacks)toggleThemeCallbacks[t](e)});function toggleThemeListener(){window.dispatchEvent(new CustomEvent("toggle-theme"))}</script><script>(function(){const t="dark",e=getPrefTheme(),n=e||t;switchTheme(n)})()</script><header class=header><nav class=nav><div class=logo><a href=http://notes.cashpw.com/ accesskey=h title="Cash Prokop-Weaver (Alt + H)">Cash Prokop-Weaver</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://notes.cashpw.com/archives/ title=Archives>Archives</a></li><li><a href=http://notes.cashpw.com/search/ title="Search (Alt + /)" data-no-instant accesskey=/>Search</a></li><li><a href=http://notes.cashpw.com/tags/ title=Tags>Tags</a></li></ul></nav></header><main class="main post"><article class=post-single data-pagefind-body><header class=post-header><h1 class=post-title>Scott Alexander | Book Review: Why We're Polarized</h1><div class=post-meta><span title='2023-01-11 14:54:00 -0800 -0800'>2023-01-11</span>&nbsp;·&nbsp;<span style=margin-right:.5ch></span><span title='2023-12-05 20:57:41 -0800 -0800'>2023-12-05</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;<a href=https://github.com/cashpw/notes/edit/main/scott_alexander_book_review_why_we_re_polarized.org rel="noopener noreferrer" target=_blank>Edit</a></div><div class="post-meta post-references"></div><div class="post-meta post-stars"></div></header><div class="toc side left"><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#summary aria-label=Summary>Summary</a></li><li class=menu-link-thoughts><a href=#thoughts aria-label=Thoughts>Thoughts</a></li><li class=menu-link-notes><a href=#notes aria-label=Notes>Notes</a></li><li class=menu-link-bibliography><a href=#bibliography aria-label=Bibliography>Bibliography</a></li><li class=menu-link-references><a href=#references aria-label=References>References</a></li></ul></div></details></div><div class=post-content><p><a href=/posts/eb439673-53b5-4e7b-b31e-e0adebaf2d40/>Ezra Klein</a>, (NO_ITEM_DATA:alexanderBookReviewWhyWeRePolarized2021)</p><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>¶</a></h2><p>Book review of (NO_ITEM_DATA:kleinWhyWeRePolarized2020).</p><h2 id=thoughts>Thoughts<a hidden class=anchor aria-hidden=true href=#thoughts>¶</a></h2><p>While I haven&rsquo;t read (NO_ITEM_DATA:kleinWhyWeRePolarized2020), this reivew leads me to the conclusion that it&rsquo;s a blown out version of <a href=/posts/2ff2cbd5-43a3-4c54-bb11-d7e4f34a0bfc/>Ezra Klein | Why We Can&rsquo;t Build</a>.</p><h2 id=notes>Notes<a hidden class=anchor aria-hidden=true href=#notes>¶</a></h2><blockquote><p>Did you know that seventy years ago, our grandparents were having an underpolarization crisis? True! In 1950, the American Political Science Association &ldquo;released a call to arms&mldr;pleading for a more polarized political system&rdquo;. The report argued that &ldquo;the parties contain too much diversity of opinion and work together too easily, leaving voters confused about who to vote for and why&rdquo;. Everyone agreed with each other so much, and compromised so readily, that supporting one party over the other seemed almost pointless.</p><p>In 1976, three years after <em>Roe v. Wade</em>, Democrats and Republicans were about equally likely to support abortion restrictions. That same year, a poll found that &ldquo;only 54% of the electorate believed that the Republican Party was more conservative than the Democratic Party&rdquo;; 30% thought there was no difference. <a href=https://slatestarcodex.com/blog_images/athe_polar3.png target=_blank rel=noopener>As late as 2004</a> (<a href=https://web.archive.org/web/2023*/https://slatestarcodex.com/blog_images/athe_polar3.png rel="noopener noreferrer" target=_blank>a</a>), about equal numbers (within 5 pp) of Democrats and Republicans agreed with statements like &ldquo;government is almost always wasteful and inefficient&rdquo; and &ldquo;immigrants are a burden on our country&rdquo;. Between the late 60s and early 90s, Democratic presidents deregulated the airlines and passed welfare reform; Republican presidents pushed immigration amnesties and founded the EPA.</p><p>What happened between then and now? Klein has two answers: a historical answer, and a structural answer.</p><p>The historical answer is: the Dixiecrats switched from Democrat to Republican.</p><p>When the North won the Civil War, it had grand plans to remake the South into a paradise of racial equality and universal love. After Lincoln&rsquo;s death, his successor Andrew Johnson decided this sounded hard and gave up. Within a few decades, the South was back to being a racist, paramilitary-violence-prone one-party dictatorship. That one party called itself &ldquo;Democrat&rdquo;, but had few similiarites to the Democrats in the North. The Southern Democrats (&ldquo;Dixiecrats&rdquo;) and northern Democrats disagreed on lots of issues, but the South hated the Republicans so much after their experience with Lincoln that they caucused with the northern Democrats anyway. This turned into a stable coalition, with northern Democrats agreeing to support the South against civil rights for blacks, and the Dixiecrats supporting the northern Democrats whenever they needed something.</p><p>But since the Democratic party contained both northern Democrats (relatively liberal) and Dixiecrats (relatively conservative), it didn&rsquo;t want to take a coherent party-wide stance on liberalism vs. conservatism. And by the median voter theorem, that meant the Republicans also didn&rsquo;t want to take a coherent stance on liberalism vs. conservatism. So both parties ended out centrist and identical.</p><p>In 1964, the Civil Rights Act threatened the Dixiecrats&rsquo; key issue. It wasn&rsquo;t quite as simple as &ldquo;Democrats were for it, Republicans were against it&rdquo; - in fact, 80% of Republicans and 60% of Democrats supported it. But that year&rsquo;s presidential election pitted heavily pro-CRA Democrat Lyndon Johnson against anti-CRA Republican Barry Goldwater, beginning Southerners&rsquo; defection to the Republican Party.</p><p>Klein says this successfully got all the conservatives on one side of the aisle and all the liberals on the other, allowing polarization to begin. Essentially, he believes polarization is a natural process, which the odd coalitions of the early 20th century temporarily prevented. Once the coalitions were broken, it could begin to do its work. He spends the rest of the book talking about why exactly polarization is so natural, what aspects of modernization have made it worse, and what sort of feedback loops make it keep going.</p></blockquote><blockquote><p>Aligned identities don&rsquo;t necessarily make people more loyal to their own party; in fact, people are generally less pro-their-own-party than before. In the 1960s, 80% of people were in a political party; nowadays only 63% are. In the 80s, people&rsquo;s average favorability rating for their own party was 72 on a 100 point scale; today it&rsquo;s only 63. So it&rsquo;s not the average voter has suddenly realized their party is great and super-important to them.</p><p>It&rsquo;s that they really, really hate the other guys.</p><p>This is called negative partisanship [<a href=/posts/ac618a25-545b-48af-90dd-c777fce9cbed/>Negative partisanship</a>], and apparently it&rsquo;s the driver of our entire political system.</p></blockquote><blockquote><p>Klein argues that although polarization has affected both sides, the Democrats have managed to muddle on, but the Republicans have gone completely off the rails.</p><p>Stop for a second before reacting here. I get the impression that Klein understands he is taking a risk (not an actual risk of decreased popularity, given the givens, but some kind of metaphysical risk to his soul) by abandoning his previous attempt at a neutral stance and coming out like this. I think he feels bad about it, and that he considered not writing this chapter on that basis. I think it&rsquo;s very important to him that we consider the possibility that he wants to be neutral, is trying as hard as he can to be neutral, but that even from an attempted-neutral point of view he thinks the decline of the Republican Party is a threat to the stability of the country. And I think it&rsquo;s very important that we maintain a stance where we recognize this is a potentially true state of affairs - it really is possible that one party is much worse than the other! - and don&rsquo;t automatically condemn Klein for raising the possibility.</p><p>[&mldr;]</p><p>But after a bit of this he regains his footing and segues into a stronger argument that might give even conservatives some food for thought. Klein notes that although both Democrats and Republicans have some extremists in their coalition, the institutional Democrats seem to be doing a better job preventing them from gaining power. In a purely structural sense, without getting into whether you believe they&rsquo;re morally equivalent or whatever, the democratic socialists/Bernie Sanders seem to be an &ldquo;insurrection&rdquo; comparable to the Tea Party/Trump on the Republican side. But the mainstream neoliberal Republicans surrendered to the Tea Party and to Trump in rapid succession, and the mainstream neoliberal Democrats are still resisting. The Democrats&rsquo; Tea Party equivalent is probably AOC, but she and her allies are still a small minority in the Democratic caucus. And the Dem presidential nomination went to Joe Biden, a moderate who wouldn&rsquo;t look out of place running for president in 1988 (in fact&mldr;). Why We&rsquo;re Polarized was published too early to mention Biden in this context, but we can count him as a correct prediction for its theory.</p><p>Klein calls this &ldquo;the Democratic party more successfully resisting polarization&rdquo;, and thinks of this as related to structural differences between the two parties. He says that the Republican Party represents the modal American on various characteristics, eg Christian (the most common religion), white (the most common race), straight (the most common sexual orientation), etc, whereas the Democrats represent everyone else (eg Muslims, Jews, atheists, and every minority religion; blacks, Asians, Hispanics, and every minority race; etc). That means the Republicans are more ideologically uniform - Christians are genuinely similar to other Christians, but Jews are only superficially similar to Muslims by virtue of their non-Christianness. That means ideology can&rsquo;t really capture the Democratic Party in the same way it captures the Republican Party. One point kind of in support of this - ask Democrats their favorite news source, and you get a long tail of stuff (most popular is CNN at 15%, then NPR at 13%, and so on). But ask conservatives and it&rsquo;s dominated by FOX (47%). Does this lack of news-source diversity reflect a lack of ideological diversity? Could be.</p><p>[&mldr;]</p><p>Klein understands he&rsquo;s supposed to end the book with a collection of suggestions for how to be less polarized. He is not sure he wants to do this. Nonpolarization rested on a gentleman&rsquo;s agreement to continue racism, which was bad. Voters benefit from having two clear alternatives to choose from. We Should Not Take A Rosy-Eyed View Of An Idealized Past. Plus he isn&rsquo;t sure we could end polarization even if we wanted to.</p><p>But he suggests we also do some things to make sure polarization doesn&rsquo;t cause national collapse or a civil war or something. He suggests fixing the Supreme Court (eg having more justices, with fixed-year terms) so that there aren&rsquo;t constant crises about who gets to pick the swing vote. He wants to do something about the debt ceiling and other &ldquo;ticking time bombs&rdquo; where if the parties don&rsquo;t agree, it causes some kind of disaster. And he suggests granting statehood to Puerto Rico and DC, because the better the electoral calculus is for the Democrats, the more the Republicans will have to change their strategy, and maybe their new strategy won&rsquo;t involve them being evil racists, and then the Democrats won&rsquo;t have to be so justly and correctly polarized against them (am I being unfair? check page 257 and see for yourself).</p><p>Finally, he suggests some increased individual reflectivity and thoughtfulness on our own parts. If all of us just do a tiny bit each day to fight the polarization within ourselves, together we can form a growing tide of compassion and mutual understanding. Haha, yeah right.</p></blockquote><blockquote><p>This hit basically the notes a book like this should hit, but I don&rsquo;t feel too much more enlightened about Why We&rsquo;re Polarized.</p></blockquote><h2 id=bibliography>Bibliography<a hidden class=anchor aria-hidden=true href=#bibliography>¶</a></h2><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>¶</a></h2><style>.csl-entry{text-indent:-1.5em;margin-left:1.5em}</style><div class=csl-bib-body><div class=csl-entry>NO_ITEM_DATA:kleinWhyWeRePolarized2020</div><div class=csl-entry>NO_ITEM_DATA:alexanderBookReviewWhyWeRePolarized2021</div></div></div><footer class=post-footer><script>var nextUntil=function(e,t,n){var s=[];for(e=e.nextElementSibling;e;){if(e.matches(t))break;if(n&&!e.matches(n)){e=e.nextElementSibling;continue}s.push(e),e=e.nextElementSibling}return s};const flashcardHeader=document.getElementById("flashcards");if(flashcardHeader){const o=nextUntil(flashcardHeader,"h2"),e=document.createElement("div");e.setAttribute("class","toc flashcards");const t=document.createElement("details");e.appendChild(t);const s=document.createElement("summary");t.appendChild(s);const n=document.createElement("div");n.setAttribute("class","inner"),t.appendChild(n),nextUntil(flashcardHeader,"h2").forEach(e=>{n.appendChild(e)}),flashcardHeader.parentNode.insertBefore(document.createElement("hr"),flashcardHeader),flashcardHeader.parentNode.insertBefore(e,flashcardHeader),s.appendChild(flashcardHeader)}</script><script>const backlinkHeader=document.getElementById("backlinks");if(backlinkHeader){const t=document.createElement("h4");t.innerHTML=backlinkHeader.innerHTML;const n=backlinkHeader.nextElementSibling;console.log(n);const e=document.createElement("aside");e.setAttribute("class","backlinks toc side right"),backlinkHeader.parentNode.insertBefore(e,backlinkHeader),e.appendChild(t),e.appendChild(n),backlinkHeader.remove(),t.id="backlinks"}</script><script src=/js/citations/custom.js></script></footer></article></main><footer class=footer><span>&copy; 2023 <a href=http://notes.cashpw.com/>Cash Prokop-Weaver</a></span><span style=display:inline-block;margin-left:1em>
<a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA</a></span>
<span style=display:inline-block;margin-left:1em>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://github.com/reorx/hugo-PaperModX/ rel=noopener target=_blank>PaperModX</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>(function(){const t=""=="1";if(t)return;let e=document.getElementById("theme-toggle");e.removeEventListener("click",toggleThemeListener),e.addEventListener("click",toggleThemeListener)})()</script><script>(function(){let e=document.getElementById("menu");e&&(e.scrollLeft=localStorage.getItem("menu-scroll-position"),e.onscroll=function(){localStorage.setItem("menu-scroll-position",e.scrollLeft)});const t=""=="1",n=""=="1";if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||t||n)return;document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})})()</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>if(window.scrollListeners)for(const e of scrollListeners)window.removeEventListener("scroll",e);window.scrollListeners=[]</script><script src=/js/medium-zoom.min.js data-no-instant></script>
<script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>(function(){const a="1"=="1";if(!a)return;if(!document.querySelector(".toc")){console.log("no toc found, ignore toc scroll");return}const r=window.scrollListeners,t=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id]"),n="active";let e=t[0];o(e).classList.add(n);const c=()=>{const s=[];for(const e of t)if(l(e)<5)s.push(e);else break;s.length>0?newActiveHeading=s[s.length-1]:newActiveHeading=t[0],e!=newActiveHeading&&(o(e).classList.remove(n),e=newActiveHeading,o(e).classList.add(n))};let s=null;const i=()=>{s!==null&&clearTimeout(s),s=setTimeout(c,50)};window.addEventListener("scroll",i,!1),r.push(i);function o(e){const t=encodeURI(e.getAttribute("id")).toLowerCase();return document.querySelector(`.toc ul li a[href="#${t}"]`)}function l(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect();return t.top}})()</script></body></html>